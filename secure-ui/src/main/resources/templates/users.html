<!DOCTYPE HTML>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/layout}">
<head>
<title>Spring Cloud Netflix Docker - Users Page</title>
</head>
<body>
	<div layout:fragment="content" th:remove="tag">
	<h1>Spring Cloud Netflix Docker - Users Page</h1>

	<div class="row">
<!-- 		<div class="col-md-2"></div> -->
		<div class="col-md-8">
			<p>
				Only <b>authenticated</b> users are allowed to see
				this page.
			</p>

			<table class="table table-striped table-bordered">
				<tr>
					<th>User ID</th>
					<th>FirstName</th>
					<th>LastName</th>
					<th>UserName</th>
					<th>Email</th>
					<th>Roles</th>
					<th>Enabled</th>
					<th sec:authorize="hasRole('ROLE_ADMIN')">Edit</th>
                    <th sec:authorize="hasRole('ROLE_ADMIN')">Delete</th>
				</tr>
				<tr th:each="user : ${users}">
					<td th:text="${user.id}"></td>
					<td th:text="${user.firstName}"></td>
					<td th:text="${user.lastName}"></td>
					<td th:text="${user.username}"></td>
					<td th:text="${user.email}"></td>
					<td th:text="${user.roles}"></td>
					<td th:text="${user.enabled}"></td>
					<td sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/users/{id}(id=${user.id})}"><span class="glyphicon glyphicon-edit"></span></a></td>
                    <td sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/users/{id}(id=${user.id})}"><span class="fa fa-trash-o"></span></a></td>
				</tr>
			</table>

		</div>
<!-- 		<div class="col-md-2"></div> -->
		
	</div>
	<p>
		<a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/signup}">Add User<i class="fa fa-user-plus"></i></a>
	</p>
	<p>
		Click <a th:href="@{/}">here</a> to go to home.
	</p>
	</div>
</body>
</html>